(this["webpackJsonphiglass-lite"]=this["webpackJsonphiglass-lite"]||[]).push([[0],{242:function(e){e.exports=JSON.parse('{"views":[{"tracks":[{"position":"center","type":"heatmap","data":"https://higlass.io/api/v1/tileset_info/?d=CQMd6V_cRw6iCI_-Unl3PQ","xAxis":"top","yAxis":"left","width":400,"height":400},{"position":"top","type":"gene-annotation","data":"https://higlass.io/api/v1/tileset_info/?d=OHJakQICQD6gTD7skx4EWA","width":400,"height":100},{"position":"left","type":"gene-annotation","data":"https://higlass.io/api/v1/tileset_info/?d=OHJakQICQD6gTD7skx4EWA","width":100}]}],"config":{"editable":true,"searchBox":true,"chromInfoPath":"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv"}}')},312:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://higlass.io/#viewconf","title":"HiGlass viewconf","type":"object","additionalProperties":false,"required":[],"properties":{"editable":{"type":"boolean","default":true},"viewEditable":{"type":"boolean","default":true},"tracksEditable":{"type":"boolean","default":true},"zoomFixed":{"type":"boolean"},"exportViewUrl":{"type":"string"},"trackSourceServers":{"type":"array","items":{"type":"string"},"minLength":1},"zoomLocks":{"$ref":"#/definitions/locks/genericLocks"},"locationLocks":{"$ref":"#/definitions/locks/genericLocks"},"valueScaleLocks":{"$ref":"#/definitions/locks/valueScaleLocks"},"views":{"type":"array","items":{"$ref":"#/definitions/view"},"minLength":1},"chromInfoPath":{"type":"string"}},"definitions":{"data":{"type":"object","properties":{"type":{"type":"string"},"tilesetInfo":{"type":"object"},"children":{"type":"array"},"tiles":{"type":"object"}}},"locks":{"slug":{"type":"string"},"locksByViewUid":{"type":"object","additionalProperties":false,"patternProperties":{".":{"$ref":"#/definitions/locks/slug"}}},"genericLocks":{"type":"object","additionalProperties":false,"required":[],"properties":{"locksByViewUid":{"$ref":"#/definitions/locks/locksByViewUid"},"locksDict":{"type":"object","additionalProperties":false,"patternProperties":{".":{"type":"object","additionalProperties":false,"properties":{"uid":{"$ref":"#/definitions/locks/slug"}},"patternProperties":{"^(?!uid).":{"type":"array","minLength":3,"maxLength":3,"items":{"type":"number"}}}}}}}},"valueScaleLocks":{"type":"object","additionalProperties":false,"required":["locksByViewUid","locksDict"],"properties":{"locksByViewUid":{"$ref":"#/definitions/locks/locksByViewUid"},"locksDict":{"type":"object","additionalProperties":false,"patternProperties":{".":{"type":"object","additionalProperties":false,"properties":{"uid":{"$ref":"#/definitions/locks/slug"},"ignoreOffScreenValues":{"type":"boolean"}},"patternProperties":{"^(?!(uid|ignoreOffScreenValues)).":{"type":"object","additionalProperties":false,"required":["view","track"],"properties":{"view":{"type":"string"},"track":{"$ref":"#/definitions/locks/slug"}}}}}}}}}},"view":{"type":"object","additionalProperties":false,"required":["tracks","layout"],"properties":{"autocompleteSource":{"type":"string"},"chromInfoPath":{"type":"string"},"genomePositionSearchBox":{"$ref":"#/definitions/viewProperties/genomePositionSearchBox"},"genomePositionSearchBoxVisible":{"type":"boolean"},"initialXDomain":{"$ref":"#/definitions/viewProperties/domain"},"initialYDomain":{"$ref":"#/definitions/viewProperties/domain"},"layout":{"$ref":"#/definitions/viewProperties/layout"},"overlays":{"type":"array","items":{"$ref":"#/definitions/viewProperties/overlay"}},"selectionView":{"type":"boolean"},"tracks":{"$ref":"#/definitions/viewProperties/tracks_object"},"uid":{"type":"string"},"zoomFixed":{"type":"boolean"}}},"viewProperties":{"genomePositionSearchBox":{"type":"object","title":"The Genome Position Search Box Schema","required":["chromInfoServer","chromInfoId"],"properties":{"autocompleteServer":{"type":"string","title":"The Autocomplete Server URL","default":"","examples":["//higlass.io/api/v1"],"pattern":"^(.*)$"},"autocompleteId":{"type":"string","title":"The Autocomplete ID","default":"","examples":["OHJakQICQD6gTD7skx4EWA"],"pattern":"^(.*)$"},"chromInfoServer":{"type":"string","title":"The Chrominfo Server URL","default":"","examples":["//higlass.io/api/v1"],"pattern":"^(.*)$"},"chromInfoId":{"type":"string","title":"The Chromosome Info ID","default":"","examples":["hg19"],"pattern":"^(.*)$"},"visible":{"type":"boolean","title":"The Visible Schema","default":false}}},"overlay":{"type":"object","additionalProperties":false,"properties":{"chromInfoPath":{"type":"string"},"includes":{"type":"array"},"options":{"type":"object","properties":{"extent":{"type":"array"},"minWidth":{"type":"number"},"fill":{"type":"string"},"fillOpacity":{"type":"number"},"stroke":{"type":"string"},"strokeOpacity":{"type":"number"},"strokeWidth":{"type":"number"},"strokePos":{"type":["string","array"]},"outline":{"type":"string"},"outlineOpacity":{"type":"number"},"outlineWidth":{"type":"number"},"outlinePos":{"type":["string","array"]}}},"type":{"type":"string"},"uid":{"type":"string"}}},"layout":{"type":"object","additionalProperties":false,"required":["w","h","x","y"],"properties":{"x":{"type":"integer","title":"The X Position","default":0},"y":{"type":"integer","title":"The Y Position","default":0},"w":{"type":"integer","title":"Width","default":12},"h":{"type":"integer","title":"Height","default":12}}},"tracks_object":{"type":"object","additionalProperties":false,"properties":{"left":{"$ref":"#/definitions/viewProperties/tracks_array"},"right":{"$ref":"#/definitions/viewProperties/tracks_array"},"top":{"$ref":"#/definitions/viewProperties/tracks_array"},"bottom":{"$ref":"#/definitions/viewProperties/tracks_array"},"center":{"$ref":"#/definitions/viewProperties/tracks_array"},"whole":{"$ref":"#/definitions/viewProperties/tracks_array"},"gallery":{"$ref":"#/definitions/viewProperties/tracks_array"}}},"tracks_array":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/tracks/enum_track"},{"$ref":"#/definitions/tracks/combined_track"},{"$ref":"#/definitions/tracks/heatmap_track"},{"$ref":"#/definitions/tracks/independent_viewport_projection_track"}]}},"domain":{"type":"array","items":{"type":"number"},"maxItems":2,"minItems":2}},"tracks":{"heatmap_track":{"type":"object","additionalProperties":false,"required":[],"properties":{"uid":{"type":"string"},"type":{"const":"heatmap"},"data":{"$ref":"#/definitions/data"},"height":{"type":"number"},"options":{"type":"object"},"position":{"type":"string"},"server":{"type":"string"},"tilesetUid":{"type":"string"},"width":{"type":"number"}}},"combined_track":{"type":"object","additionalProperties":false,"required":["contents"],"properties":{"contents":{"$ref":"#/definitions/viewProperties/tracks_array"},"height":{"type":"number"},"options":{},"position":{"type":"string"},"type":{"const":"combined"},"uid":{"type":"string"},"width":{"type":"number"}}},"enum_track":{"type":"object","additionalProperties":false,"required":["type"],"properties":{"server":{"type":"string"},"tilesetUid":{"type":"string"},"data":{"$ref":"#/definitions/data"},"uid":{"type":"string"},"type":{"enum":["2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},"chromInfoPath":{"type":"string"},"fromViewUid":{"type":"string"},"height":{"type":"number"},"options":{"type":"object"},"width":{"type":"number"},"x":{"type":"number"},"y":{"type":"number"}}},"independent_viewport_projection_track":{"type":"object","additionalProperties":false,"properties":{"uid":{"type":"string"},"type":{"enum":["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},"fromViewUid":{"type":"null"},"projectionXDomain":{"$ref":"#/definitions/viewProperties/domain"},"projectionYDomain":{"$ref":"#/definitions/viewProperties/domain"},"options":{"type":"object"},"transforms":{"type":"array"},"width":{"type":"number"},"x":{"type":"number"},"y":{"type":"number"}}}}}}')},321:function(e,t,i){e.exports=i(546)},326:function(e,t,i){},541:function(e,t,i){},546:function(e,t,i){"use strict";i.r(t);var o=i(4),r=i.n(o),n=i(71),a=i.n(n),s=(i(326),i(215)),l=i(308),c=i.n(l),d=(i(184),i(319));var p=function(e){var t=e.code,i=Object(o.useRef)(null),n=Object(o.useState)(t),a=Object(s.a)(n,2),l=a[0],p=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{handleWidth:!0,handleHeight:!0,onResize:function(e,t){var o;null===i||void 0===i||null===(o=i.current)||void 0===o||o.layout({width:e,height:t})}}),r.a.createElement(c.a,{language:"json",value:l,theme:"test",options:{autoClosingBrackets:"never",autoClosingQuotes:"never",cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on",lineNumbers:"off",renderLineHighlight:"line",renderIndentGuides:!0},onChange:function(t,i){p(t),e.onChange(t)},editorDidMount:function(e,t){console.log("editorDidMount",e),i.current=e,e.focus()},editorWillMount:function(e){}}))},h=i(270),u=i.n(h),v=i(271),f=i(242),m=i(311),y=i.n(m),g=i(312),w=i(238),b=i(239),k=function(){function e(){Object(w.a)(this,e),this.hg=void 0,this.hg={},this.hg.trackSourceServers=[],this.hg.views=[]}return Object(b.a)(e,[{key:"spec",value:function(){return this.hg}},{key:"getLastView",value:function(){var e,t;return null===(e=this.hg.views)||void 0===e?void 0:e[(null===(t=this.hg.views)||void 0===t?void 0:t.length)-1]}},{key:"setEditable",value:function(e){return this.hg.editable=e,this}},{key:"setChromInfoPath",value:function(e){return this.hg.chromInfoPath=e,this}},{key:"addTrackSourceServers",value:function(e){var t,i;return e&&-1===(null===(t=this.hg.trackSourceServers)||void 0===t?void 0:t.indexOf(e))&&(null===(i=this.hg.trackSourceServers)||void 0===i||i.push(e)),this}},{key:"addNewView",value:function(e){var t;return null===(t=this.hg.views)||void 0===t||t.push(e),this}},{key:"addTrack",value:function(e,t){var i;return this.hg.views?(null===(i=this.hg.views[this.hg.views.length-1].tracks[e])||void 0===i||i.push(t),this):this}}]),e}(),P=function(){function e(t){Object(w.a)(this,e),this.hl=void 0,this.hl=JSON.parse(JSON.stringify(t));for(var i=0;i<this.hl.views.length;i++)this.hl.views[i].w||(this.hl.views[i].w=12),this.hl.views[i].h||(this.hl.views[i].h=12),this.hl.views[i].x||(this.hl.views[i].x=0),this.hl.views[i].y||(this.hl.views[i].y=0)}return Object(b.a)(e,[{key:"spec",value:function(){return this.hl}}]),e}();function x(e,t){return e?"".concat(e,"-track-").concat(t):"track-".concat(t)}function j(e,t){switch(e){case"heatmap":return"heatmap";case"gene-annotation":return"left"===t||"right"===t?"vertical-gene-annotations":"horizontal-gene-annotations";default:return"heatmap"}}function S(e){if(!e.includes("tileset_info/?d=")||!e.includes("https:")&&!e.includes("http:"))return console.warn("Data url format is incorrect."),{server:void 0,tilesetUid:void 0};var t=e.includes("https:")?"https:":"http:";return{server:e.split("tileset_info/?d=")[0].split(t)[1],tilesetUid:e.split("tileset_info/?d=")[1]}}var I=i(313);function $(e){var t,i,o,r,n,a,s,l,c,d,p,h,u=new P(e),v=new k;v.setEditable(null===(t=u.spec().config)||void 0===t?void 0:t.editable).setChromInfoPath(null===(i=u.spec().config)||void 0===i?void 0:i.chromInfoPath);for(var f=void 0!==(null===(o=u.spec().config)||void 0===o?void 0:o.searchBox),m=Object(I.isObject)(null===(r=u.spec().config)||void 0===r?void 0:r.searchBox),w={chromInfoId:m?null===(n=null===(a=u.spec().config)||void 0===a?void 0:a.searchBox)||void 0===n?void 0:n.chromInfoId:"hg19",chromInfoServer:m?null===(s=null===(l=u.spec().config)||void 0===l?void 0:l.searchBox)||void 0===s?void 0:s.chromInfoServer:"//higlass.io/api/v1",autocompleteId:null===(c=null===(d=u.spec().config)||void 0===d?void 0:d.searchBox)||void 0===c?void 0:c.autocompleteId,autocompleteServer:null===(p=null===(h=u.spec().config)||void 0===h?void 0:h.searchBox)||void 0===p?void 0:p.autocompleteServer,visible:f},b=0;b<u.spec().views.length;b++){var $=u.spec().views[b];v.addNewView({uid:$.uniqueName?$.uniqueName:"view-".concat(b+1),genomePositionSearchBoxVisible:f,genomePositionSearchBox:w,layout:{w:$.w,h:$.h,x:$.x,y:$.y},tracks:{top:[],left:[],center:[],right:[],bottom:[],gallery:[],whole:[]},initialXDomain:[5.960464477539063e-8,3100000000.0000005]});for(var _=1,z=[],O=0;O<$.tracks.length;O++){var B,V=$.tracks[O];if(!0===V.xAxis||"top"===V.xAxis){var q,L,N="center"===V.position?"top":V.position,C={uid:V.uniqueName?V.uniqueName:x(null===(q=v.getLastView())||void 0===q?void 0:q.uid,_++),type:"horizontal-chromosome-labels",chromInfoPath:null===(L=u.spec().config)||void 0===L?void 0:L.chromInfoPath,height:30};"center"===V.position?z.push({p:N,t:C}):v.addTrack(N,C)}if(!0===V.yAxis||"left"===V.yAxis){var E,T,D="center"===V.position?"left":V.position,U={uid:V.uniqueName?V.uniqueName:x(null===(E=v.getLastView())||void 0===E?void 0:E.uid,_++),type:"vertical-chromosome-labels",chromInfoPath:null===(T=u.spec().config)||void 0===T?void 0:T.chromInfoPath,width:30};"center"===V.position?z.push({p:D,t:U}):v.addTrack(D,U)}var A=S(V.data),W=A.server,J=A.tilesetUid;if(v.addTrack(V.position,{uid:V.uniqueName?V.uniqueName:x(null===(B=v.getLastView())||void 0===B?void 0:B.uid,_++),type:j(V.type,V.position),server:W,tilesetUid:J,width:V.width,height:V.height}).addTrackSourceServers(W),"bottom"===V.xAxis){var Q,H,M="center"===V.position?"bottom":V.position,R={uid:V.uniqueName?V.uniqueName:x(null===(Q=v.getLastView())||void 0===Q?void 0:Q.uid,_++),type:"horizontal-chromosome-labels",chromInfoPath:null===(H=u.spec().config)||void 0===H?void 0:H.chromInfoPath,height:30};v.addTrack(M,R)}if(!0===V.yAxis||"right"===V.yAxis){var X,G,Y="center"===V.position?"right":V.position,F={uid:V.uniqueName?V.uniqueName:x(null===(X=v.getLastView())||void 0===X?void 0:X.uid,_++),type:"vertical-chromosome-labels",chromInfoPath:null===(G=u.spec().config)||void 0===G?void 0:G.chromInfoPath,width:30};v.addTrack(Y,F)}}z.forEach((function(e){var t=e.p,i=e.t;return v.addTrack(t,i)}))}return function(e){var t=new y.a({extendRefs:!0}).compile(g),i=t(e);t.errors&&console.warn(JSON.stringify(t.errors,null,2))}(v.spec()),v.spec()}var _=i(314),z=(i(541),i(318));var O=function(){var e=Object(o.useState)(u()(f)),t=Object(s.a)(e,2),i=t[0],n=t[1],a=Object(o.useState)(u()($(f))),l=Object(s.a)(a,2),c=l[0];return l[1],r.a.createElement("div",{className:"editor"},r.a.createElement(v.a,{split:"vertical",defaultSize:"30%",onChange:function(){}},r.a.createElement(p,{code:i,onChange:Object(z.debounce)((function(e){n(e)}),2e3)}),r.a.createElement(v.a,{split:"vertical",defaultSize:"50%",onChange:function(){}},r.a.createElement(p,{code:c,onChange:function(e){}}),r.a.createElement(_.HiGlassComponent,{options:{bounded:!0,pixelPreciseMarginPadding:!0,containerPaddingX:0,containerPaddingY:0,sizeMode:"default"},viewConfig:$(f)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[321,1,2]]]);
//# sourceMappingURL=main.c521299a.chunk.js.map